# Don't forget to rebuild the Docker image if you change the content of this file
apiVersion: 1

apps:
  - type: grafana-pyroscope-app
    disabled: false
    jsonData:
      backendUrl: $REMOTE_BACKEND_URL
      basicAuthUser: $REMOTE_BASIC_AUTH_USER
    secureJsonData:
      basicAuthPassword: $REMOTE_BASIC_AUTH_PASSWORD
  - type: 'grafana-llm-app'
    disabled: false
    jsonData:
      openAI:
        provider: openai
        url: https://api.openai.com
        organizationId: $OPENAI_ORGANIZATION_ID
      vector:
        enabled: true
        model: text-embedding-ada-002
        embed:
          type: openai
        store:
          type: qdrant
          qdrant:
            address: qdrant:6334

    secureJsonData:
      openAIKey: $OPENAI_API_KEY

  - type: grafana-collector-app
    # <int> Org ID. Default to 1, unless org_name is specified
    org_id: 1
    # <string> Org name. Overrides org_id unless org_id not specified
    org_name: Main Org.
    # <bool> disable the app. Default to false.
    disabled: false
    jsonData:
      hmPromClusterId: 1
      hmInstanceId: 18103
      orgId: '1'
      region: 'dev-us'
      stackId: '3726'
      grafanaComUrl: 'http://host.docker.internal:3040'
      agmClusterUrl: 'https://fleet-management-dev-001.grafana-dev.net'
      integrationsApiUrl: 'https://integrations-api-dev.grafana.net'
      environment: 'dev'
      isLocalDev: true
    secureJsonData:
      # This is a key that is seeded into the Auth API database
      apiToken: $FLEET_API_KEY
      # token is not required when running the API locally
      agmApiKey: $AGM_API_KEY
