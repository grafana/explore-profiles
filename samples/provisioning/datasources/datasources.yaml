apiVersion: 1

datasources:
  - uid: grafanacloud-profiles-local
    type: grafana-pyroscope-datasource
    name: ðŸ”¥ Local (http://pyroscope:4100)
    url: http://pyroscope:4100
    isDefault: true
    basicAuth: true
    # 1. our plugin backend expects a string
    # 2. this value must match the one in samples/provisioning/plugins/app.yaml
    basicAuthUser: '42'
    secureJsonData:
      basicAuthPassword: 'mypassword'
    keepCookies: [GitSession]
  - uid: grafanacloud-profiles-local-bis
    type: grafana-pyroscope-datasource
    name: ðŸ”¥ Local bis (http://pyroscope:4100)
    url: http://pyroscope:4100
    isDefault: false
    jsonData:
      # we need this settings because the default data source is unique among ALL the data source types
      # i.e. if a Prometheus DS is set to default, we can't set a Profiles DS to default
      # for these situations, we can override the default value here
      overridesDefault: true
    basicAuth: true
    # 1. our plugin backend expects a string
    # 2. this value must match the one in samples/provisioning/plugins/app.yaml
    basicAuthUser: '42'
    secureJsonData:
      basicAuthPassword: 'mypassword'
    keepCookies: [GitSession]
